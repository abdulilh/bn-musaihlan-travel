<!doctype html>
<html lang="ar" dir="rtl">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ø¨Ù† Ù…Ø³ÙŠØ­Ù„Ø§Ù† Ù„Ù„Ø³ÙØ±ÙŠØ§Øª ÙˆØ§Ù„Ø³ÙŠØ§Ø­Ø© - Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø´Ø§Ù…Ù„</title>
  <meta name="description" content="Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø´Ø§Ù…Ù„ Ù„Ø´Ø±ÙƒØ© Ø¨Ù† Ù…Ø³ÙŠØ­Ù„Ø§Ù† Ù„Ù„Ø³ÙØ±ÙŠØ§Øª ÙˆØ§Ù„Ø³ÙŠØ§Ø­Ø© ÙˆØ®Ø¯Ù…Ø§Øª Ø§Ù„Ø­Ø¬ ÙˆØ§Ù„Ø¹Ù…Ø±Ø©">
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
        body {
            box-sizing: border-box;
        }
        
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@300;400;500;600;700&display=swap');
        
        * {
            font-family: 'Noto Sans Arabic', 'Segoe UI', Tahoma, Arial, sans-serif;
            box-sizing: border-box;
        }
        
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        
        .hero-section {
            background: linear-gradient(135deg, var(--bg-color, #1e40af) 0%, var(--primary-color, #3b82f6) 25%, var(--secondary-color, #9333ea) 75%, #ec4899 100%);
            min-height: 100%;
            position: relative;
        }
        
        .hero-overlay {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.8) 0%, rgba(147, 51, 234, 0.8) 100%);
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
        }
        
        .floating-card {
            background: var(--surface-color, rgba(255, 255, 255, 0.98));
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 24px;
        }
        
        .floating-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 40px 80px -12px rgba(0, 0, 0, 0.4);
        }
        
        .gradient-text {
            background: linear-gradient(135deg, var(--bg-color, #14b8a6) 0%, var(--primary-color, #3b82f6) 25%, var(--secondary-color, #9333ea) 75%, #ec4899 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color, #3b82f6) 0%, var(--secondary-color, #9333ea) 100%);
            border: none;
            color: white;
            padding: 14px 28px;
            border-radius: 16px;
            font-weight: 700;
            transition: all 0.4s ease;
            cursor: pointer;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 20px 40px -5px rgba(59, 130, 246, 0.5);
        }
        
        .btn-secondary {
            background: transparent;
            border: 2px solid white;
            color: white;
            padding: 10px 24px;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .btn-secondary:hover {
            background: white;
            color: var(--primary-color, #3b82f6);
        }
        
        .nav-glass {
            background: var(--surface-color, rgba(255, 255, 255, 0.95));
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(59, 130, 246, 0.1);
        }
        
        .tab-button {
            transition: all 0.3s ease;
            cursor: pointer;
            color: var(--text-color, #1f2937);
        }
        
        .tab-button.active {
            background-color: var(--primary-color, #3b82f6);
            color: white;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .admin-panel {
            background: linear-gradient(135deg, #1f2937 0%, #374151 100%);
        }
        
        .admin-sidebar {
            background: linear-gradient(180deg, #1f2937 0%, #374151 100%);
            max-height: 100%;
            overflow-y: auto;
        }
        
        .admin-nav-item {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .admin-nav-item:hover {
            background-color: rgba(59, 130, 246, 0.1);
            border-right: 4px solid var(--primary-color, #3b82f6);
        }
        
        .admin-nav-item.active {
            background-color: rgba(59, 130, 246, 0.2);
            border-right: 4px solid var(--primary-color, #3b82f6);
        }
        
        .loading-spinner {
            border: 3px solid #f3f4f6;
            border-top: 3px solid var(--primary-color, #3b82f6);
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 16px 24px;
            border-radius: 8px;
            color: white;
            font-weight: 500;
            z-index: 1000;
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }
        
        .toast.show {
            transform: translateX(0);
        }
        
        .toast.success {
            background-color: #10b981;
        }
        
        .toast.error {
            background-color: #ef4444;
        }
        
        .toast.warning {
            background-color: #f59e0b;
        }
        
        .toast.info {
            background-color: #3b82f6;
        }
        
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .modal-content {
            background: var(--surface-color, white);
            border-radius: 16px;
            max-width: 90%;
            max-height: 90%;
            overflow: auto;
        }
        
        .data-table {
            border-collapse: collapse;
            width: 100%;
        }
        
        .data-table th,
        .data-table td {
            padding: 12px;
            text-align: right;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .data-table th {
            background: #f9fafb;
            font-weight: 600;
            color: #374151;
        }
        
        .data-table tbody tr:hover {
            background: #f9fafb;
        }
        
        .action-button {
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
            margin: 0 2px;
        }
        
        .action-button.edit {
            background: #3b82f6;
            color: white;
        }
        
        .action-button.delete {
            background: #ef4444;
            color: white;
        }
        
        .action-button.view {
            background: #10b981;
            color: white;
        }
        
        .action-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .status-pending {
            background-color: #fbbf24;
            color: #92400e;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
        }
        
        .status-processing {
            background-color: #60a5fa;
            color: #1e40af;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
        }
        
        .status-completed {
            background-color: #34d399;
            color: #065f46;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
        }
        
        .status-cancelled {
            background-color: #f87171;
            color: #991b1b;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
        }
        
        .kpi-card {
            background: linear-gradient(135deg, var(--surface-color, #ffffff) 0%, #f8fafc 100%);
            border: 1px solid rgba(59, 130, 246, 0.1);
            border-radius: 16px;
            padding: 1.5rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .kpi-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color, #3b82f6), var(--secondary-color, #9333ea));
        }
        
        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px -5px rgba(59, 130, 246, 0.2);
        }
        
        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
        }
        
        .notification-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #ef4444;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
        }
        
        .gallery-item {
            position: relative;
            overflow: hidden;
            border-radius: 16px;
            transition: transform 0.4s ease;
            box-shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.2);
        }
        
        .gallery-item:hover {
            transform: scale(1.05);
        }
        
        .gallery-filter-btn {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .gallery-filter-btn.active {
            background-color: var(--primary-color, #3b82f6) !important;
            color: white !important;
        }
        
        .service-card {
            background: linear-gradient(145deg, var(--surface-color, #ffffff) 0%, #f8fafc 100%);
            border: 2px solid transparent;
            transition: all 0.5s ease;
            border-radius: 24px;
            padding: 2rem;
        }
        
        .service-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 25px 50px -8px rgba(59, 130, 246, 0.4);
        }
        
        .package-card {
            background: linear-gradient(145deg, var(--surface-color, #ffffff) 0%, #f8fafc 100%);
            border: 3px solid transparent;
            transition: all 0.6s ease;
            border-radius: 28px;
            padding: 2rem;
        }
        
        .package-card:hover {
            transform: translateY(-12px) scale(1.04);
            box-shadow: 0 40px 80px -12px rgba(59, 130, 246, 0.5);
        }
        
        .stats-card {
            background: linear-gradient(145deg, var(--surface-color, rgba(255, 255, 255, 0.9)) 0%, rgba(248, 250, 252, 0.9) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(59, 130, 246, 0.2);
            transition: all 0.3s ease;
            border-radius: 16px;
            padding: 1.5rem;
        }
        
        .stats-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px -5px rgba(59, 130, 246, 0.3);
        }
        
        .travel-icon {
            background: linear-gradient(135deg, var(--bg-color, #14b8a6) 0%, var(--primary-color, #3b82f6) 25%, var(--secondary-color, #9333ea) 75%, #ec4899 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 3.5rem;
            display: inline-block;
            margin-bottom: 1rem;
        }
        
        .rating-stars {
            display: flex;
            gap: 4px;
            justify-content: center;
            margin: 1rem 0;
        }
        
        .star {
            font-size: 1.5rem;
            color: #d1d5db;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .star:hover,
        .star.active {
            color: #fbbf24;
            transform: scale(1.1);
        }
        
        @media (max-width: 768px) {
            .hero-section {
                min-height: 80%;
                padding: 2rem 0;
            }
            
            .hero-section h2 {
                font-size: 2.5rem !important;
                line-height: 1.2;
            }
            
            .floating-card {
                margin: 1rem;
                padding: 1.5rem !important;
            }
            
            .nav-glass .flex {
                flex-direction: column;
                align-items: center;
                gap: 1rem;
            }
            
            .admin-sidebar {
                width: 100%;
                min-height: auto;
                position: relative;
            }
            
            .gallery-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .modal-content {
                margin: 1rem;
                max-width: calc(100% - 2rem);
            }
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="min-h-full"><!-- Navigation -->
  <nav class="nav-glass fixed top-0 w-full z-50" role="navigation">
   <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-20">
     <div class="flex items-center">
      <div class="flex-shrink-0">
       <h1 class="text-2xl font-bold gradient-text" id="nav-company-name">Ø¨Ù† Ù…Ø³ÙŠØ­Ù„Ø§Ù† Ù„Ù„Ø³ÙØ±ÙŠØ§Øª ÙˆØ§Ù„Ø³ÙŠØ§Ø­Ø©</h1>
       <p class="text-sm text-gray-600" id="nav-company-tagline">ÙˆØ®Ø¯Ù…Ø§Øª Ø§Ù„Ø­Ø¬ ÙˆØ§Ù„Ø¹Ù…Ø±Ø©</p>
      </div>
     </div>
     <div class="hidden md:block">
      <div class="mr-10 flex items-baseline space-x-4 space-x-reverse"><button onclick="showTab('home')" class="tab-button active text-gray-900 hover:text-blue-600 px-4 py-2 rounded-lg text-sm font-medium transition-all">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button> <button onclick="showTab('services')" class="tab-button text-gray-900 hover:text-blue-600 px-4 py-2 rounded-lg text-sm font-medium transition-all">Ø®Ø¯Ù…Ø§ØªÙ†Ø§</button> <button onclick="showTab('packages')" class="tab-button text-gray-900 hover:text-blue-600 px-4 py-2 rounded-lg text-sm font-medium transition-all">Ø§Ù„Ø¨Ø§Ù‚Ø§Øª</button> <button onclick="showTab('booking')" class="tab-button text-gray-900 hover:text-blue-600 px-4 py-2 rounded-lg text-sm font-medium transition-all">Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†</button> <button onclick="showTab('tracking')" class="tab-button text-gray-900 hover:text-blue-600 px-4 py-2 rounded-lg text-sm font-medium transition-all">Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©</button> <button onclick="showTab('gallery')" class="tab-button text-gray-900 hover:text-blue-600 px-4 py-2 rounded-lg text-sm font-medium transition-all">Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±</button> <button onclick="showTab('admin')" class="tab-button text-gray-900 hover:text-blue-600 px-4 py-2 rounded-lg text-sm font-medium transition-all relative"> Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© <span id="notificationBadge" class="notification-badge hidden">0</span> </button>
      </div>
     </div>
     <div class="md:hidden"><button onclick="toggleMobileMenu()" class="text-gray-900 hover:text-blue-600 p-2 rounded-lg transition-all">
       <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
       </svg></button>
     </div>
    </div>
    <div id="mobile-menu" class="md:hidden hidden bg-white border-t border-gray-200 py-4">
     <div class="flex flex-col space-y-2"><button onclick="showTab('home'); closeMobileMenu();" class="tab-button mobile-tab active text-gray-900 hover:text-blue-600 px-4 py-3 text-right rounded-lg transition-all">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button> <button onclick="showTab('services'); closeMobileMenu();" class="tab-button mobile-tab text-gray-900 hover:text-blue-600 px-4 py-3 text-right rounded-lg transition-all">Ø®Ø¯Ù…Ø§ØªÙ†Ø§</button> <button onclick="showTab('packages'); closeMobileMenu();" class="tab-button mobile-tab text-gray-900 hover:text-blue-600 px-4 py-3 text-right rounded-lg transition-all">Ø§Ù„Ø¨Ø§Ù‚Ø§Øª</button> <button onclick="showTab('booking'); closeMobileMenu();" class="tab-button mobile-tab text-gray-900 hover:text-blue-600 px-4 py-3 text-right rounded-lg transition-all">Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†</button> <button onclick="showTab('tracking'); closeMobileMenu();" class="tab-button mobile-tab text-gray-900 hover:text-blue-600 px-4 py-3 text-right rounded-lg transition-all">Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©</button> <button onclick="showTab('gallery'); closeMobileMenu();" class="tab-button mobile-tab text-gray-900 hover:text-blue-600 px-4 py-3 text-right rounded-lg transition-all">Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±</button> <button onclick="showTab('admin'); closeMobileMenu();" class="tab-button mobile-tab text-gray-900 hover:text-blue-600 px-4 py-3 text-right rounded-lg transition-all">Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</button>
     </div>
    </div>
   </div>
  </nav><!-- Home Tab -->
  <div id="home-tab" class="tab-content active">
   <section class="hero-section">
    <div class="hero-overlay"></div>
    <div class="relative z-10 flex items-center justify-center min-h-full">
     <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
       <div class="text-center lg:text-right text-white">
        <h2 class="text-5xl md:text-7xl font-bold mb-6 leading-tight" id="hero-title">Ø±Ø­Ù„Ø§Øª Ù…Ù…ÙŠØ²Ø© Ø¥Ù„Ù‰ Ø£Ø¬Ù…Ù„ Ø§Ù„ÙˆØ¬Ù‡Ø§Øª</h2>
        <p class="text-xl md:text-2xl mb-8 opacity-90 leading-relaxed" id="hero-subtitle">Ù†Ø­Ù† Ù†Ù‚Ø¯Ù… Ø£ÙØ¶Ù„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø³ÙŠØ§Ø­ÙŠØ© ÙˆØ§Ù„Ø¯ÙŠÙ†ÙŠØ© Ø¨Ø£Ø¹Ù„Ù‰ Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø¬ÙˆØ¯Ø© ÙˆØ§Ù„Ø±Ø§Ø­Ø©</p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start"><button onclick="showTab('booking')" class="btn-primary text-lg px-8 py-4">Ø§Ø­Ø¬Ø² Ø±Ø­Ù„ØªÙƒ Ø§Ù„Ø¢Ù†</button> <button onclick="showTab('packages')" class="btn-secondary text-lg px-8 py-4">ØªØµÙØ­ Ø§Ù„Ø¨Ø§Ù‚Ø§Øª</button>
        </div>
       </div>
       <div class="grid grid-cols-2 gap-6">
        <div class="stats-card text-center">
         <div class="travel-icon">
          ğŸ•‹
         </div>
         <h3 class="text-2xl font-bold text-gray-900 mb-2" id="stats-hajj-umrah">150</h3>
         <p class="text-gray-600">Ø±Ø­Ù„Ø© Ø­Ø¬ ÙˆØ¹Ù…Ø±Ø©</p>
        </div>
        <div class="stats-card text-center">
         <div class="travel-icon">
          âœˆï¸
         </div>
         <h3 class="text-2xl font-bold text-gray-900 mb-2" id="stats-tourism">200</h3>
         <p class="text-gray-600">Ø±Ø­Ù„Ø© Ø³ÙŠØ§Ø­ÙŠØ©</p>
        </div>
        <div class="stats-card text-center">
         <div class="travel-icon">
          ğŸ˜Š
         </div>
         <h3 class="text-2xl font-bold text-gray-900 mb-2" id="stats-happy-clients">500</h3>
         <p class="text-gray-600">Ø¹Ù…ÙŠÙ„ Ø³Ø¹ÙŠØ¯</p>
        </div>
        <div class="stats-card text-center">
         <div class="travel-icon">
          â­
         </div>
         <h3 class="text-2xl font-bold text-gray-900 mb-2" id="stats-rating">4.8</h3>
         <p class="text-gray-600">ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</p>
        </div>
       </div>
      </div>
     </div>
    </div>
   </section>
   <section class="py-20 bg-gray-900 text-white relative">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
     <div class="text-center mb-16">
      <h3 class="text-4xl font-bold mb-4">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h3>
      <p class="text-xl opacity-90">Ù†Ø­Ù† Ù‡Ù†Ø§ Ù„Ø®Ø¯Ù…ØªÙƒ Ø¹Ù„Ù‰ Ù…Ø¯Ø§Ø± Ø§Ù„Ø³Ø§Ø¹Ø©</p>
     </div>
     <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      <div class="floating-card text-center p-8">
       <div class="text-5xl mb-6">
        ğŸ“
       </div>
       <h4 class="text-2xl font-semibold mb-4 text-gray-900">Ø§ØªØµÙ„ Ø¨Ù†Ø§</h4>
       <p class="text-lg text-gray-700" id="contact-phone">777000584</p>
      </div>
      <div class="floating-card text-center p-8">
       <div class="text-5xl mb-6">
        ğŸ’¬
       </div>
       <h4 class="text-2xl font-semibold mb-4 text-gray-900">ÙˆØ§ØªØ³Ø§Ø¨</h4><a href="https://wa.me/967777000584" target="_blank" rel="noopener noreferrer" class="text-lg text-blue-600 hover:text-blue-800 transition-colors">777000584</a>
      </div>
      <div class="floating-card text-center p-8">
       <div class="text-5xl mb-6">
        âœ‰ï¸
       </div>
       <h4 class="text-2xl font-semibold mb-4 text-gray-900">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</h4>
       <p class="text-lg text-gray-700" id="contact-email">bnmusaihlan@gmail.com</p>
      </div>
     </div>
    </div>
   </section>
  </div><!-- Services Tab -->
  <div id="services-tab" class="tab-content">
   <section class="py-20 bg-gray-50 mt-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
     <div class="text-center mb-16">
      <h3 class="text-4xl font-bold gradient-text mb-6">Ø®Ø¯Ù…Ø§ØªÙ†Ø§ Ø§Ù„Ù…Ù…ÙŠØ²Ø©</h3>
      <p class="text-xl text-gray-600">Ù†Ù‚Ø¯Ù… Ù…Ø¬Ù…ÙˆØ¹Ø© Ø´Ø§Ù…Ù„Ø© Ù…Ù† Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø³ÙŠØ§Ø­ÙŠØ© ÙˆØ§Ù„Ø¯ÙŠÙ†ÙŠØ©</p>
     </div>
     <div id="servicesGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"><!-- Services will be loaded dynamically -->
     </div>
    </div>
   </section>
  </div><!-- Packages Tab -->
  <div id="packages-tab" class="tab-content">
   <section class="py-20 bg-white mt-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
     <div class="text-center mb-16">
      <h3 class="text-4xl font-bold gradient-text mb-6">Ø¨Ø§Ù‚Ø§ØªÙ†Ø§ Ø§Ù„Ù…Ù…ÙŠØ²Ø©</h3>
      <p class="text-xl text-gray-600">Ø§Ø®ØªØ± Ø§Ù„Ø¨Ø§Ù‚Ø© Ø§Ù„ØªÙŠ ØªÙ†Ø§Ø³Ø¨Ùƒ Ù…Ù† Ù…Ø¬Ù…ÙˆØ¹Ø© ÙˆØ§Ø³Ø¹Ø© Ù…Ù† Ø§Ù„Ø¹Ø±ÙˆØ¶</p>
     </div>
     <div id="packagesGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"><!-- Packages will be loaded dynamically -->
     </div>
    </div>
   </section>
  </div><!-- Booking Tab -->
  <div id="booking-tab" class="tab-content">
   <section class="py-20 bg-gray-50 mt-20">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
     <div class="text-center mb-12">
      <h3 class="text-4xl font-bold gradient-text mb-6">Ø§Ø­Ø¬Ø² Ø±Ø­Ù„ØªÙƒ Ø§Ù„Ø¢Ù†</h3>
      <p class="text-xl text-gray-600">Ø§Ù…Ù„Ø£ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ÙˆØ³Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ ÙÙŠ Ø£Ù‚Ø±Ø¨ ÙˆÙ‚Øª</p>
     </div>
     <div class="floating-card p-10">
      <form id="bookingForm" class="space-y-8">
       <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <div><label for="name" class="block text-sm font-medium text-gray-700 mb-3">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ *</label> <input type="text" id="name" name="name" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all">
        </div>
        <div><label for="phone" class="block text-sm font-medium text-gray-700 mb-3">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ *</label> <input type="tel" id="phone" name="phone" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all">
        </div>
        <div><label for="email" class="block text-sm font-medium text-gray-700 mb-3">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label> <input type="email" id="email" name="email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all">
        </div>
        <div><label for="passport_number" class="block text-sm font-medium text-gray-700 mb-3">Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ø² *</label> <input type="text" id="passport_number" name="passport_number" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all">
        </div>
        <div><label for="service" class="block text-sm font-medium text-gray-700 mb-3">Ù†ÙˆØ¹ Ø§Ù„Ø®Ø¯Ù…Ø© *</label> <select id="service" name="service" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all"> <option value="">Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø®Ø¯Ù…Ø©</option> <option value="Ø¹Ù…Ø±Ø©">Ø¹Ù…Ø±Ø©</option> <option value="Ø­Ø¬">Ø­Ø¬</option> <option value="Ø³ÙŠØ§Ø­Ø©">Ø³ÙŠØ§Ø­Ø©</option> <option value="ØªØ°Ø§ÙƒØ± Ø·ÙŠØ±Ø§Ù†">ØªØ°Ø§ÙƒØ± Ø·ÙŠØ±Ø§Ù†</option> <option value="Ø­Ø¬Ø² ÙÙ†Ø¯Ù‚">Ø­Ø¬Ø² ÙÙ†Ø¯Ù‚</option> </select>
        </div>
        <div><label for="destination" class="block text-sm font-medium text-gray-700 mb-3">Ø§Ù„ÙˆØ¬Ù‡Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</label> <input type="text" id="destination" name="destination" placeholder="Ù…Ø«Ø§Ù„: Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©ØŒ Ø¯Ø¨ÙŠØŒ ØªØ±ÙƒÙŠØ§" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all">
        </div>
        <div><label for="date" class="block text-sm font-medium text-gray-700 mb-3">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø³ÙØ± Ø§Ù„Ù…ÙØ¶Ù„</label> <input type="date" id="date" name="date" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all">
        </div>
        <div><label for="adults" class="block text-sm font-medium text-gray-700 mb-3">Ø¹Ø¯Ø¯ Ø§Ù„Ø¨Ø§Ù„ØºÙŠÙ†</label> <input type="number" id="adults" name="adults" min="1" value="1" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all">
        </div>
        <div><label for="children" class="block text-sm font-medium text-gray-700 mb-3">Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø·ÙØ§Ù„</label> <input type="number" id="children" name="children" min="0" value="0" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all">
        </div>
       </div>
       <div><label for="message" class="block text-sm font-medium text-gray-700 mb-3">Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©</label> <textarea id="message" name="message" rows="4" placeholder="Ø£ÙŠ Ø·Ù„Ø¨Ø§Øª Ø®Ø§ØµØ© Ø£Ùˆ Ù…Ù„Ø§Ø­Ø¸Ø§Øª..." class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all"></textarea>
       </div>
       <div class="text-center"><label class="block text-sm font-medium text-gray-700 mb-3">ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø®Ø¯Ù…Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
        <div class="rating-stars" id="ratingStars"><span class="star" data-rating="1">â­</span> <span class="star" data-rating="2">â­</span> <span class="star" data-rating="3">â­</span> <span class="star" data-rating="4">â­</span> <span class="star" data-rating="5">â­</span>
        </div><input type="hidden" id="rating" name="rating" value="0">
       </div>
       <div class="text-center"><button type="submit" id="submitBtn" class="btn-primary text-lg px-12 py-4 flex items-center justify-center mx-auto"> <span id="submitText">Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø­Ø¬Ø²</span>
         <div id="submitSpinner" class="loading-spinner mr-3 hidden"></div></button>
       </div>
      </form>
     </div>
    </div>
   </section>
  </div><!-- Transaction Tracking Tab -->
  <div id="tracking-tab" class="tab-content">
   <section class="py-20 bg-gray-50 mt-20">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
     <div class="text-center mb-12">
      <h3 class="text-4xl font-bold gradient-text mb-6">Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©</h3>
      <p class="text-xl text-gray-600">Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ø² Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø­Ø§Ù„Ø© Ù…Ø¹Ø§Ù…Ù„ØªÙƒ</p>
     </div>
     <div class="floating-card p-8 mb-8">
      <form id="trackingForm" class="flex flex-col sm:flex-row gap-4">
       <div class="flex-1"><label for="tracking_passport" class="block text-sm font-medium text-gray-700 mb-3">Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ø²</label> <input type="text" id="tracking_passport" name="tracking_passport" required placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ø²" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all">
       </div>
       <div class="flex items-end"><button type="submit" id="trackBtn" class="btn-primary px-8 py-3 flex items-center"> <span id="trackText">Ø¨Ø­Ø«</span>
         <div id="trackSpinner" class="loading-spinner mr-3 hidden"></div></button>
       </div>
      </form>
     </div>
     <div id="trackingResults" class="hidden">
      <div class="floating-card p-8">
       <h4 class="text-2xl font-bold gradient-text mb-6">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©</h4>
       <div id="transactionDetails"></div>
      </div>
     </div>
     <div id="noResults" class="hidden">
      <div class="floating-card p-8 text-center">
       <div class="text-6xl mb-4">
        ğŸ”
       </div>
       <h4 class="text-xl font-semibold text-gray-900 mb-2">Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ø¹Ø§Ù…Ù„Ø©</h4>
       <p class="text-gray-600">ØªØ£ÙƒØ¯ Ù…Ù† Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ø² Ø§Ù„Ù…Ø¯Ø®Ù„ Ø£Ùˆ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ù„Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©</p>
      </div>
     </div>
    </div>
   </section>
  </div><!-- Gallery Tab -->
  <div id="gallery-tab" class="tab-content">
   <section class="py-20 bg-gray-50 mt-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
     <div class="text-center mb-16">
      <h3 class="text-4xl font-bold gradient-text mb-6">Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±</h3>
      <p class="text-xl text-gray-600">Ø§Ø³ØªÙ…ØªØ¹ Ø¨Ù…Ø´Ø§Ù‡Ø¯Ø© ØµÙˆØ± Ù…Ù† Ø±Ø­Ù„Ø§ØªÙ†Ø§ Ø§Ù„Ù…Ù…ÙŠØ²Ø©</p>
     </div>
     <div class="flex flex-wrap justify-center gap-4 mb-12"><button onclick="filterGallery('all')" class="gallery-filter-btn active bg-blue-600 text-white px-6 py-3 rounded-full font-medium transition-all hover:bg-blue-700"> Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙˆØ± </button> <button onclick="filterGallery('umrah')" class="gallery-filter-btn bg-gray-200 text-gray-700 px-6 py-3 rounded-full font-medium transition-all hover:bg-gray-300"> ğŸ•‹ Ø§Ù„Ø¹Ù…Ø±Ø© </button> <button onclick="filterGallery('hajj')" class="gallery-filter-btn bg-gray-200 text-gray-700 px-6 py-3 rounded-full font-medium transition-all hover:bg-gray-300"> ğŸŒŸ Ø§Ù„Ø­Ø¬ </button> <button onclick="filterGallery('tourism')" class="gallery-filter-btn bg-gray-200 text-gray-700 px-6 py-3 rounded-full font-medium transition-all hover:bg-gray-300"> âœˆï¸ Ø§Ù„Ø³ÙŠØ§Ø­Ø© </button> <button onclick="filterGallery('hotel')" class="gallery-filter-btn bg-gray-200 text-gray-700 px-6 py-3 rounded-full font-medium transition-all hover:bg-gray-300"> ğŸ¨ Ø§Ù„ÙÙ†Ø§Ø¯Ù‚ </button>
     </div>
     <div id="galleryContainer" class="gallery-grid">
      <div class="text-center col-span-full py-12">
       <div class="text-6xl mb-4">
        ğŸ“¸
       </div>
       <p class="text-gray-600">Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙˆØ± ÙÙŠ Ø§Ù„Ù…Ø¹Ø±Ø¶ Ø­Ø§Ù„ÙŠØ§Ù‹</p>
      </div>
     </div>
    </div>
   </section>
  </div><!-- Admin Panel Tab -->
  <div id="admin-tab" class="tab-content"><!-- Login Form -->
   <div id="adminLogin" class="min-h-full admin-panel flex items-center justify-center">
    <div class="floating-card p-10 w-full max-w-md">
     <div class="text-center mb-8">
      <h3 class="text-3xl font-bold gradient-text mb-4">ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h3>
      <p class="text-gray-600">Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„ÙˆØµÙˆÙ„ Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</p>
     </div>
     <form id="loginForm" class="space-y-6">
      <div><label for="loginUsername" class="block text-sm font-medium text-gray-700 mb-3">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label> <input type="text" id="loginUsername" name="username" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all">
      </div>
      <div><label for="loginPassword" class="block text-sm font-medium text-gray-700 mb-3">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label> <input type="password" id="loginPassword" name="password" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all">
      </div><button type="submit" id="loginBtn" class="btn-primary w-full py-3 flex items-center justify-center"> <span id="loginText">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</span>
       <div id="loginSpinner" class="loading-spinner mr-3 hidden"></div></button>
     </form>
     <div class="mt-6 text-center">
      <p class="text-sm text-gray-600">Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ: <strong>admin</strong><br>
        ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©: <strong>admin123</strong></p>
     </div>
    </div>
   </div><!-- Admin Dashboard -->
   <div id="adminDashboard" class="hidden min-h-full bg-gray-100">
    <div class="flex"><!-- Sidebar -->
     <div class="admin-sidebar w-64 min-h-full text-white">
      <div class="p-6">
       <h2 class="text-2xl font-bold mb-8">Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h2>
       <nav class="space-y-1"><button onclick="showAdminSection('dashboard')" class="admin-nav-item active w-full text-right px-4 py-3 rounded-lg flex items-center"> <span class="text-xl ml-3">ğŸ“Š</span> <span>Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</span> </button> <button onclick="showAdminSection('transactions')" class="admin-nav-item w-full text-right px-4 py-3 rounded-lg flex items-center"> <span class="text-xl ml-3">ğŸ“‹</span> <span>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª</span> </button> <button onclick="showAdminSection('services-packages')" class="admin-nav-item w-full text-right px-4 py-3 rounded-lg flex items-center"> <span class="text-xl ml-3">ğŸ¯</span> <span>Ø§Ù„Ø®Ø¯Ù…Ø§Øª ÙˆØ§Ù„Ø¨Ø§Ù‚Ø§Øª</span> </button> <button onclick="showAdminSection('gallery-admin')" class="admin-nav-item w-full text-right px-4 py-3 rounded-lg flex items-center"> <span class="text-xl ml-3">ğŸ–¼ï¸</span> <span>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¹Ø±Ø¶</span> </button> <button onclick="showAdminSection('settings')" class="admin-nav-item w-full text-right px-4 py-3 rounded-lg flex items-center"> <span class="text-xl ml-3">âš™ï¸</span> <span>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹</span> </button> <button onclick="logout()" class="admin-nav-item w-full text-right px-4 py-3 rounded-lg text-red-300 hover:text-red-100 flex items-center"> <span class="text-xl ml-3">ğŸšª</span> <span>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</span> </button>
       </nav>
      </div>
     </div><!-- Main Content -->
     <div class="flex-1 p-8 overflow-y-auto max-h-full"><!-- Dashboard Section -->
      <div id="dashboard-section" class="admin-section">
       <h3 class="text-3xl font-bold gradient-text mb-8">Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</h3>
       <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
        <div class="kpi-card">
         <div class="flex items-center justify-between">
          <div>
           <p class="text-sm text-gray-600">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª</p>
           <p class="text-3xl font-bold gradient-text" id="dashboardTotalTransactions">0</p>
          </div>
          <div class="text-4xl text-blue-600">
           ğŸ“‹
          </div>
         </div>
        </div>
        <div class="kpi-card">
         <div class="flex items-center justify-between">
          <div>
           <p class="text-sm text-gray-600">Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</p>
           <p class="text-3xl font-bold gradient-text" id="dashboardPendingTransactions">0</p>
          </div>
          <div class="text-4xl text-yellow-600">
           â³
          </div>
         </div>
        </div>
        <div class="kpi-card">
         <div class="flex items-center justify-between">
          <div>
           <p class="text-sm text-gray-600">Ù…ÙƒØªÙ…Ù„Ø©</p>
           <p class="text-3xl font-bold gradient-text" id="dashboardCompletedTransactions">0</p>
          </div>
          <div class="text-4xl text-green-600">
           âœ…
          </div>
         </div>
        </div>
        <div class="kpi-card">
         <div class="flex items-center justify-between">
          <div>
           <p class="text-sm text-gray-600">Ø§Ù„ØµÙˆØ±</p>
           <p class="text-3xl font-bold gradient-text" id="dashboardTotalImages">0</p>
          </div>
          <div class="text-4xl text-purple-600">
           ğŸ“¸
          </div>
         </div>
        </div>
       </div>
       <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <div class="floating-card p-6">
         <h4 class="text-xl font-bold text-gray-900 mb-4">Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ©</h4>
         <div class="chart-container">
          <canvas id="monthlyTransactionsChart"></canvas>
         </div>
        </div>
        <div class="floating-card p-6">
         <h4 class="text-xl font-bold text-gray-900 mb-4">ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø®Ø¯Ù…Ø§Øª</h4>
         <div class="chart-container">
          <canvas id="servicesDistributionChart"></canvas>
         </div>
        </div>
       </div>
      </div><!-- Transactions Section -->
      <div id="transactions-section" class="admin-section hidden">
       <h3 class="text-3xl font-bold gradient-text mb-8">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª</h3>
       <div class="floating-card overflow-hidden">
        <div class="overflow-x-auto">
         <table class="data-table w-full">
          <thead>
           <tr>
            <th>Ø§Ù„Ø§Ø³Ù…</th>
            <th>Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ø²</th>
            <th>Ø§Ù„Ø®Ø¯Ù…Ø©</th>
            <th>Ø§Ù„Ù‡Ø§ØªÙ</th>
            <th>Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</th>
            <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
            <th>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡</th>
            <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
           </tr>
          </thead>
          <tbody id="adminTransactionsTable">
           <tr>
            <td colspan="8" class="text-center text-gray-500 py-8">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</td>
           </tr>
          </tbody>
         </table>
        </div>
       </div>
      </div><!-- Services & Packages Section -->
      <div id="services-packages-section" class="admin-section hidden">
       <h3 class="text-3xl font-bold gradient-text mb-8">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª ÙˆØ§Ù„Ø¨Ø§Ù‚Ø§Øª</h3>
       <div class="floating-card p-6 mb-8">
        <div class="flex justify-between items-center mb-6">
         <h4 class="text-2xl font-bold text-gray-900">Ø§Ù„Ø®Ø¯Ù…Ø§Øª</h4><button onclick="openAddServiceModal()" class="btn-primary px-6 py-3"> â• Ø¥Ø¶Ø§ÙØ© Ø®Ø¯Ù…Ø© </button>
        </div>
        <div id="servicesManagementGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"><!-- Services will be loaded dynamically -->
        </div>
       </div>
       <div class="floating-card p-6">
        <div class="flex justify-between items-center mb-6">
         <h4 class="text-2xl font-bold text-gray-900">Ø§Ù„Ø¨Ø§Ù‚Ø§Øª</h4><button onclick="openAddPackageModal()" class="btn-primary px-6 py-3"> â• Ø¥Ø¶Ø§ÙØ© Ø¨Ø§Ù‚Ø© </button>
        </div>
        <div id="packagesManagementGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"><!-- Packages will be loaded dynamically -->
        </div>
       </div>
      </div><!-- Gallery Admin Section -->
      <div id="gallery-admin-section" class="admin-section hidden">
       <div class="flex justify-between items-center mb-8">
        <h3 class="text-3xl font-bold gradient-text">Ø¥Ø¯Ø§Ø±Ø© Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±</h3><button onclick="openAddImageModal()" class="btn-primary px-6 py-3"> ğŸ“¸ Ø¥Ø¶Ø§ÙØ© ØµÙˆØ±Ø© </button>
       </div>
       <div id="adminGalleryContainer" class="gallery-grid">
        <div class="text-center col-span-full py-12">
         <div class="text-6xl mb-4">
          ğŸ“¸
         </div>
         <p class="text-gray-600">Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙˆØ± ÙÙŠ Ø§Ù„Ù…Ø¹Ø±Ø¶ Ø­Ø§Ù„ÙŠØ§Ù‹</p>
        </div>
       </div>
      </div><!-- Settings Section -->
      <div id="settings-section" class="admin-section hidden">
       <h3 class="text-3xl font-bold gradient-text mb-8">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹</h3>
       <div class="floating-card p-8">
        <form id="settingsForm" class="space-y-8">
         <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          <div><label for="settings_company_name" class="block text-sm font-medium text-gray-700 mb-3">Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ©</label> <input type="text" id="settings_company_name" name="company_name" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all">
          </div>
          <div><label for="settings_company_tagline" class="block text-sm font-medium text-gray-700 mb-3">Ø´Ø¹Ø§Ø± Ø§Ù„Ø´Ø±ÙƒØ©</label> <input type="text" id="settings_company_tagline" name="company_tagline" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all">
          </div>
          <div><label for="settings_phone" class="block text-sm font-medium text-gray-700 mb-3">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label> <input type="tel" id="settings_phone" name="phone_number" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all">
          </div>
          <div><label for="settings_email" class="block text-sm font-medium text-gray-700 mb-3">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label> <input type="email" id="settings_email" name="email_address" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all">
          </div>
         </div>
         <div><label for="settings_hero_title" class="block text-sm font-medium text-gray-700 mb-3">Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</label> <input type="text" id="settings_hero_title" name="hero_title" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all">
         </div>
         <div><label for="settings_hero_subtitle" class="block text-sm font-medium text-gray-700 mb-3">Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙØ±Ø¹ÙŠ</label> <textarea id="settings_hero_subtitle" name="hero_subtitle" rows="3" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all"></textarea>
         </div>
         <div class="text-center"><button type="submit" id="saveSettingsBtn" class="btn-primary px-8 py-3 flex items-center justify-center mx-auto"> <span id="saveSettingsText">Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</span>
           <div id="saveSettingsSpinner" class="loading-spinner mr-3 hidden"></div></button>
         </div>
        </form>
       </div>
      </div>
     </div>
    </div>
   </div>
  </div><!-- Modals --> <!-- Add Image Modal -->
  <div id="addImageModal" class="modal hidden">
   <div class="modal-content floating-card p-8 max-w-md w-full">
    <h3 class="text-2xl font-bold gradient-text mb-6">Ø¥Ø¶Ø§ÙØ© ØµÙˆØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©</h3>
    <form id="addImageForm">
     <div class="space-y-6">
      <div><label for="imageTitle" class="block text-sm font-medium text-gray-700 mb-3">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØµÙˆØ±Ø©</label> <input type="text" id="imageTitle" name="title" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all">
      </div>
      <div><label for="imageUrl" class="block text-sm font-medium text-gray-700 mb-3">Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©</label> <input type="url" id="imageUrl" name="url" required placeholder="https://example.com/image.jpg" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all">
      </div>
      <div><label for="imageType" class="block text-sm font-medium text-gray-700 mb-3">Ù†ÙˆØ¹ Ø§Ù„ØµÙˆØ±Ø©</label> <select id="imageType" name="type" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all"> <option value="umrah">Ø¹Ù…Ø±Ø©</option> <option value="hajj">Ø­Ø¬</option> <option value="tourism">Ø³ÙŠØ§Ø­Ø©</option> <option value="hotel">ÙÙ†Ø§Ø¯Ù‚</option> </select>
      </div>
     </div>
     <div class="flex gap-4 mt-8"><button type="submit" id="addImageBtn" class="flex-1 btn-primary py-3 flex items-center justify-center"> <span id="addImageText">Ø¥Ø¶Ø§ÙØ©</span>
       <div id="addImageSpinner" class="loading-spinner mr-3 hidden"></div></button> <button type="button" onclick="closeAddImageModal()" class="flex-1 bg-gray-300 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-400 transition-colors">Ø¥Ù„ØºØ§Ø¡</button>
     </div>
    </form>
   </div>
  </div><!-- Status Update Modal -->
  <div id="statusModal" class="modal hidden">
   <div class="modal-content floating-card p-8 max-w-md w-full">
    <h3 class="text-2xl font-bold gradient-text mb-6">ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©</h3>
    <form id="statusUpdateForm"><input type="hidden" id="updateTransactionId">
     <div class="mb-6"><label for="newStatus" class="block text-sm font-medium text-gray-700 mb-3">Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</label> <select id="newStatus" name="newStatus" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all"> <option value="pending">Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</option> <option value="processing">Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©</option> <option value="completed">Ù…ÙƒØªÙ…Ù„Ø©</option> <option value="cancelled">Ù…Ù„ØºÙŠØ©</option> </select>
     </div>
     <div class="flex gap-4"><button type="submit" id="updateStatusBtn" class="flex-1 btn-primary py-3 flex items-center justify-center"> <span id="updateStatusText">ØªØ­Ø¯ÙŠØ«</span>
       <div id="updateStatusSpinner" class="loading-spinner mr-3 hidden"></div></button> <button type="button" onclick="closeStatusModal()" class="flex-1 bg-gray-300 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-400 transition-colors">Ø¥Ù„ØºØ§Ø¡</button>
     </div>
    </form>
   </div>
  </div><!-- Footer -->
  <footer class="bg-gray-900 text-white py-12">
   <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
     <div class="text-center md:text-right">
      <h4 class="text-2xl font-bold mb-4 gradient-text" id="footer-company-name">Ø¨Ù† Ù…Ø³ÙŠØ­Ù„Ø§Ù† Ù„Ù„Ø³ÙØ±ÙŠØ§Øª ÙˆØ§Ù„Ø³ÙŠØ§Ø­Ø©</h4>
      <p class="text-gray-400 mb-4" id="footer-company-tagline">ÙˆØ®Ø¯Ù…Ø§Øª Ø§Ù„Ø­Ø¬ ÙˆØ§Ù„Ø¹Ù…Ø±Ø©</p>
      <p class="text-gray-400">Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø´Ø§Ù…Ù„ ÙˆÙ…ØªÙƒØ§Ù…Ù„</p>
     </div>
     <div class="text-center">
      <h5 class="text-lg font-semibold mb-4">Ø®Ø¯Ù…Ø§ØªÙ†Ø§</h5>
      <ul class="space-y-2 text-gray-400">
       <li>Ø§Ù„Ø­Ø¬ ÙˆØ§Ù„Ø¹Ù…Ø±Ø©</li>
       <li>Ø§Ù„Ø³ÙØ± ÙˆØ§Ù„Ø³ÙŠØ§Ø­Ø©</li>
       <li>Ø­Ø¬Ø² Ø§Ù„ÙÙ†Ø§Ø¯Ù‚</li>
       <li>ØªØ°Ø§ÙƒØ± Ø§Ù„Ø·ÙŠØ±Ø§Ù†</li>
       <li>Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ù…ØªÙƒØ§Ù…Ù„</li>
      </ul>
     </div>
     <div class="text-center md:text-left">
      <h5 class="text-lg font-semibold mb-4">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h5>
      <div class="space-y-2 text-gray-400">
       <p id="footer-phone">ğŸ“ 777000584</p>
       <p id="footer-email">âœ‰ï¸ bnmusaihlan@gmail.com</p>
       <p>ğŸ“ ØµÙ†Ø¹Ø§Ø¡ â€“ Ø§Ù„Ø£ØµØ¨Ø­ÙŠ</p>
      </div>
     </div>
    </div>
    <div class="border-t border-gray-800 mt-8 pt-8 text-center">
     <p class="text-gray-400">Â© 2024 Ø¨Ù† Ù…Ø³ÙŠØ­Ù„Ø§Ù† Ù„Ù„Ø³ÙØ±ÙŠØ§Øª ÙˆØ§Ù„Ø³ÙŠØ§Ø­Ø©. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
    </div>
   </div>
  </footer>
  <script>
        // Configuration and global variables
        const defaultConfig = {
            company_name: "Ø¨Ù† Ù…Ø³ÙŠØ­Ù„Ø§Ù† Ù„Ù„Ø³ÙØ±ÙŠØ§Øª ÙˆØ§Ù„Ø³ÙŠØ§Ø­Ø©",
            company_tagline: "ÙˆØ®Ø¯Ù…Ø§Øª Ø§Ù„Ø­Ø¬ ÙˆØ§Ù„Ø¹Ù…Ø±Ø©",
            hero_title: "Ø±Ø­Ù„Ø§Øª Ù…Ù…ÙŠØ²Ø© Ø¥Ù„Ù‰ Ø£Ø¬Ù…Ù„ Ø§Ù„ÙˆØ¬Ù‡Ø§Øª",
            hero_subtitle: "Ù†Ø­Ù† Ù†Ù‚Ø¯Ù… Ø£ÙØ¶Ù„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø³ÙŠØ§Ø­ÙŠØ© ÙˆØ§Ù„Ø¯ÙŠÙ†ÙŠØ© Ø¨Ø£Ø¹Ù„Ù‰ Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø¬ÙˆØ¯Ø© ÙˆØ§Ù„Ø±Ø§Ø­Ø©",
            phone_number: "777000584",
            email_address: "bnmusaihlan@gmail.com",
            background_color: "#1e40af",
            surface_color: "#ffffff",
            text_color: "#1f2937",
            primary_action_color: "#3b82f6",
            secondary_action_color: "#10b981",
            font_family: "Noto Sans Arabic",
            font_size: 16
        };

        let currentData = [];
        let recordCount = 0;
        let isLoggedIn = false;
        let currentUser = null;
        let charts = {};
        let notificationCount = 0;

        // Data handler for SDK
        const dataHandler = {
            onDataChanged(data) {
                currentData = data;
                recordCount = data.length;
                updateAllTables();
                updateDashboardStats();
                updateGallery();
                updateSiteContent();
                loadSettingsForm();
                updateServicesAndPackages();
                updateNotificationBadge();
                updateCharts();
            }
        };

        // Initialize Data SDK
        async function initializeDataSdk() {
            if (window.dataSdk) {
                const result = await window.dataSdk.init(dataHandler);
                if (!result.isOk) {
                    console.error("Failed to initialize data SDK");
                } else {
                    await createDefaultData();
                }
            }
        }

        // Create default data
        async function createDefaultData() {
            // Create default admin user
            const users = currentData.filter(item => item.type === 'user');
            if (users.length === 0) {
                const defaultAdmin = {
                    id: 'admin-' + Date.now(),
                    type: 'user',
                    username: 'admin',
                    password: 'admin123',
                    role: 'admin',
                    permissions: 'all',
                    active: true,
                    last_login: new Date().toISOString(),
                    createdAt: new Date().toISOString()
                };
                
                if (window.dataSdk) {
                    await window.dataSdk.create(defaultAdmin);
                }
            }

            // Create default services
            const services = currentData.filter(item => item.type === 'service');
            if (services.length === 0) {
                const defaultServices = [
                    {
                        id: 'service-umrah',
                        type: 'service',
                        service_name: 'Ø§Ù„Ø­Ø¬ ÙˆØ§Ù„Ø¹Ù…Ø±Ø©',
                        service_description: 'Ø¨Ø±Ø§Ù…Ø¬ Ø­Ø¬ ÙˆØ¹Ù…Ø±Ø© Ù…Ù…ÙŠØ²Ø© Ù…Ø¹ Ø£ÙØ¶Ù„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª ÙˆØ§Ù„Ø¥Ù‚Ø§Ù…Ø© Ø§Ù„ÙØ§Ø®Ø±Ø©',
                        service_icon: 'ğŸ•‹',
                        service_active: true,
                        createdAt: new Date().toISOString()
                    },
                    {
                        id: 'service-tourism',
                        type: 'service',
                        service_name: 'Ø§Ù„Ø³ÙØ± ÙˆØ§Ù„Ø³ÙŠØ§Ø­Ø©',
                        service_description: 'Ø±Ø­Ù„Ø§Øª Ø³ÙŠØ§Ø­ÙŠØ© Ø¥Ù„Ù‰ Ø£Ø¬Ù…Ù„ Ø§Ù„ÙˆØ¬Ù‡Ø§Øª Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ù…Ø¹ Ø¨Ø±Ø§Ù…Ø¬ Ù…ØªÙ†ÙˆØ¹Ø©',
                        service_icon: 'âœˆï¸',
                        service_active: true,
                        createdAt: new Date().toISOString()
                    },
                    {
                        id: 'service-hotels',
                        type: 'service',
                        service_name: 'Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„ÙÙ†Ø¯Ù‚ÙŠØ©',
                        service_description: 'Ø­Ø¬Ø² Ø£ÙØ¶Ù„ Ø§Ù„ÙÙ†Ø§Ø¯Ù‚ Ø¨Ø£Ø³Ø¹Ø§Ø± Ù…Ù†Ø§Ø³Ø¨Ø© ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø£Ù†Ø­Ø§Ø¡ Ø§Ù„Ø¹Ø§Ù„Ù…',
                        service_icon: 'ğŸ¨',
                        service_active: true,
                        createdAt: new Date().toISOString()
                    },
                    {
                        id: 'service-flights',
                        type: 'service',
                        service_name: 'ØªØ°Ø§ÙƒØ± Ø§Ù„Ø·ÙŠØ±Ø§Ù†',
                        service_description: 'Ø­Ø¬Ø² ØªØ°Ø§ÙƒØ± Ø§Ù„Ø·ÙŠØ±Ø§Ù† Ø¨Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø´Ø±ÙƒØ§Øª Ø§Ù„Ø·ÙŠØ±Ø§Ù†',
                        service_icon: 'ğŸ«',
                        service_active: true,
                        createdAt: new Date().toISOString()
                    }
                ];
                
                for (const service of defaultServices) {
                    if (window.dataSdk) {
                        await window.dataSdk.create(service);
                    }
                }
            }

            // Create default packages
            const packages = currentData.filter(item => item.type === 'package');
            if (packages.length === 0) {
                const defaultPackages = [
                    {
                        id: 'package-umrah-economy',
                        type: 'package',
                        package_name: 'Ø¨Ø§Ù‚Ø© Ø§Ù„Ø¹Ù…Ø±Ø© Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯ÙŠØ©',
                        package_description: '7 Ø£ÙŠØ§Ù… / 6 Ù„ÙŠØ§Ù„ÙŠ',
                        package_price: 2500,
                        package_duration: '7 Ø£ÙŠØ§Ù…',
                        package_features: 'ØªØ°Ø§ÙƒØ± Ø§Ù„Ø·ÙŠØ±Ø§Ù†,Ø§Ù„Ø¥Ù‚Ø§Ù…Ø© ÙÙŠ ÙÙ†Ø¯Ù‚ 3 Ù†Ø¬ÙˆÙ…,Ø§Ù„Ù†Ù‚Ù„ Ù…Ù† ÙˆØ¥Ù„Ù‰ Ø§Ù„Ù…Ø·Ø§Ø±,Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù…Ø¹Ø§Ù„Ù… Ø§Ù„Ø¯ÙŠÙ†ÙŠØ©',
                        package_image: 'ğŸ•‹',
                        package_active: true,
                        createdAt: new Date().toISOString()
                    },
                    {
                        id: 'package-umrah-premium',
                        type: 'package',
                        package_name: 'Ø¨Ø§Ù‚Ø© Ø§Ù„Ø¹Ù…Ø±Ø© Ø§Ù„Ù…Ù…ÙŠØ²Ø©',
                        package_description: '10 Ø£ÙŠØ§Ù… / 9 Ù„ÙŠØ§Ù„ÙŠ',
                        package_price: 4200,
                        package_duration: '10 Ø£ÙŠØ§Ù…',
                        package_features: 'ØªØ°Ø§ÙƒØ± Ø§Ù„Ø·ÙŠØ±Ø§Ù†,Ø§Ù„Ø¥Ù‚Ø§Ù…Ø© ÙÙŠ ÙÙ†Ø¯Ù‚ 4 Ù†Ø¬ÙˆÙ…,Ø§Ù„Ù†Ù‚Ù„ Ø§Ù„ÙØ§Ø®Ø±,Ø¬ÙˆÙ„Ø§Øª Ø³ÙŠØ§Ø­ÙŠØ©,ÙˆØ¬Ø¨Ø§Øª Ù…Ø¬Ø§Ù†ÙŠØ©',
                        package_image: 'ğŸŒŸ',
                        package_active: true,
                        createdAt: new Date().toISOString()
                    },
                    {
                        id: 'package-hajj-complete',
                        type: 'package',
                        package_name: 'Ø¨Ø§Ù‚Ø© Ø§Ù„Ø­Ø¬ Ø§Ù„Ø´Ø§Ù…Ù„Ø©',
                        package_description: '15 ÙŠÙˆÙ… / 14 Ù„ÙŠÙ„Ø©',
                        package_price: 8500,
                        package_duration: '15 ÙŠÙˆÙ…',
                        package_features: 'ØªØ°Ø§ÙƒØ± Ø§Ù„Ø·ÙŠØ±Ø§Ù†,Ø§Ù„Ø¥Ù‚Ø§Ù…Ø© ÙÙŠ ÙÙ†Ø¯Ù‚ 5 Ù†Ø¬ÙˆÙ…,Ø§Ù„Ù†Ù‚Ù„ Ø§Ù„ÙØ§Ø®Ø±,Ù…Ø±Ø´Ø¯ Ø¯ÙŠÙ†ÙŠ Ù…ØªØ®ØµØµ,Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙˆØ¬Ø¨Ø§Øª',
                        package_image: 'ğŸ‘‘',
                        package_active: true,
                        createdAt: new Date().toISOString()
                    }
                ];
                
                for (const pkg of defaultPackages) {
                    if (window.dataSdk) {
                        await window.dataSdk.create(pkg);
                    }
                }
            }
        }

        // Tab management
        function showTab(tabName) {
            // Hide all tabs
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all buttons
            const buttons = document.querySelectorAll('.tab-button');
            buttons.forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab
            const selectedTab = document.getElementById(tabName + '-tab');
            if (selectedTab) {
                selectedTab.classList.add('active');
            }
            
            // Add active class to clicked button
            const activeButtons = document.querySelectorAll(`[onclick="showTab('${tabName}')"]`);
            activeButtons.forEach(btn => {
                btn.classList.add('active');
            });
        }

        // Mobile menu functions
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('hidden');
        }

        function closeMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.add('hidden');
        }

        // Admin section management
        function showAdminSection(sectionName) {
            // Hide all admin sections
            const sections = document.querySelectorAll('.admin-section');
            sections.forEach(section => {
                section.classList.add('hidden');
            });
            
            // Remove active class from all nav items
            const navItems = document.querySelectorAll('.admin-nav-item');
            navItems.forEach(item => {
                item.classList.remove('active');
            });
            
            // Show selected section
            const selectedSection = document.getElementById(sectionName + '-section');
            if (selectedSection) {
                selectedSection.classList.remove('hidden');
            }
            
            // Add active class to clicked nav item
            const activeNavItem = document.querySelector(`[onclick="showAdminSection('${sectionName}')"]`);
            if (activeNavItem) {
                activeNavItem.classList.add('active');
            }
        }

        // Toast notification system
        function showToast(message, type = 'info') {
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.classList.add('show');
            }, 100);
            
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => {
                    document.body.removeChild(toast);
                }, 300);
            }, 3000);
        }

        // Booking form handling
        document.getElementById('bookingForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            if (recordCount >= 999) {
                showToast('ØªÙ… Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù…Ù† Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª (999). ÙŠØ±Ø¬Ù‰ Ø­Ø°Ù Ø¨Ø¹Ø¶ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø£ÙˆÙ„Ø§Ù‹.', 'warning');
                return;
            }
            
            const submitBtn = document.getElementById('submitBtn');
            const submitText = document.getElementById('submitText');
            const submitSpinner = document.getElementById('submitSpinner');
            
            submitSpinner.classList.remove('hidden');
            submitText.textContent = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...';
            submitBtn.disabled = true;
            
            try {
                const formData = new FormData(this);
                const bookingData = {
                    id: 'booking-' + Date.now(),
                    type: 'transaction',
                    name: formData.get('name'),
                    phone: formData.get('phone'),
                    email: formData.get('email') || '',
                    passport_number: formData.get('passport_number'),
                    service: formData.get('service'),
                    destination: formData.get('destination') || '',
                    date: formData.get('date') || '',
                    adults: parseInt(formData.get('adults')) || 1,
                    children: parseInt(formData.get('children')) || 0,
                    message: formData.get('message') || '',
                    rating: parseInt(formData.get('rating')) || 0,
                    status: 'pending',
                    createdAt: new Date().toISOString(),
                    updatedAt: new Date().toISOString()
                };
                
                if (window.dataSdk) {
                    const result = await window.dataSdk.create(bookingData);
                    if (result.isOk) {
                        showToast('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø­Ø¬Ø² Ø¨Ù†Ø¬Ø§Ø­! Ø³Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹.', 'success');
                        this.reset();
                        resetRating();
                    } else {
                        showToast('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.', 'error');
                    }
                }
            } catch (error) {
                showToast('Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.', 'error');
            } finally {
                submitSpinner.classList.add('hidden');
                submitText.textContent = 'Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø­Ø¬Ø²';
                submitBtn.disabled = false;
            }
        });

        // Rating system
        function setupRating() {
            const stars = document.querySelectorAll('.star');
            const ratingInput = document.getElementById('rating');
            
            stars.forEach((star, index) => {
                star.addEventListener('click', () => {
                    const rating = index + 1;
                    ratingInput.value = rating;
                    
                    stars.forEach((s, i) => {
                        if (i < rating) {
                            s.classList.add('active');
                        } else {
                            s.classList.remove('active');
                        }
                    });
                });
                
                star.addEventListener('mouseover', () => {
                    stars.forEach((s, i) => {
                        if (i <= index) {
                            s.style.color = '#fbbf24';
                        } else {
                            s.style.color = '#d1d5db';
                        }
                    });
                });
            });
            
            document.getElementById('ratingStars').addEventListener('mouseleave', () => {
                const currentRating = parseInt(ratingInput.value) || 0;
                stars.forEach((s, i) => {
                    if (i < currentRating) {
                        s.style.color = '#fbbf24';
                    } else {
                        s.style.color = '#d1d5db';
                    }
                });
            });
        }

        function resetRating() {
            const stars = document.querySelectorAll('.star');
            const ratingInput = document.getElementById('rating');
            
            ratingInput.value = 0;
            stars.forEach(star => {
                star.classList.remove('active');
                star.style.color = '#d1d5db';
            });
        }

        // Transaction tracking
        document.getElementById('trackingForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const trackBtn = document.getElementById('trackBtn');
            const trackText = document.getElementById('trackText');
            const trackSpinner = document.getElementById('trackSpinner');
            const passportNumber = document.getElementById('tracking_passport').value.trim();
            
            trackSpinner.classList.remove('hidden');
            trackText.textContent = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø«...';
            trackBtn.disabled = true;
            
            try {
                const transaction = currentData.find(item => 
                    item.type === 'transaction' && 
                    item.passport_number === passportNumber
                );
                
                const resultsDiv = document.getElementById('trackingResults');
                const noResultsDiv = document.getElementById('noResults');
                
                if (transaction) {
                    displayTransactionDetails(transaction);
                    resultsDiv.classList.remove('hidden');
                    noResultsDiv.classList.add('hidden');
                } else {
                    resultsDiv.classList.add('hidden');
                    noResultsDiv.classList.remove('hidden');
                }
            } catch (error) {
                showToast('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¨Ø­Ø«. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.', 'error');
            } finally {
                trackSpinner.classList.add('hidden');
                trackText.textContent = 'Ø¨Ø­Ø«';
                trackBtn.disabled = false;
            }
        });

        function displayTransactionDetails(transaction) {
            const detailsDiv = document.getElementById('transactionDetails');
            const statusClass = getStatusClass(transaction.status);
            const statusText = getStatusText(transaction.status);
            
            detailsDiv.innerHTML = `
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <h5 class="font-semibold text-gray-900 mb-2">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„</h5>
                        <p><strong>Ø§Ù„Ø§Ø³Ù…:</strong> ${transaction.name}</p>
                        <p><strong>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ:</strong> ${transaction.phone}</p>
                        <p><strong>Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ø²:</strong> ${transaction.passport_number}</p>
                        ${transaction.email ? `<p><strong>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</strong> ${transaction.email}</p>` : ''}
                    </div>
                    <div>
                        <h5 class="font-semibold text-gray-900 mb-2">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø©</h5>
                        <p><strong>Ù†ÙˆØ¹ Ø§Ù„Ø®Ø¯Ù…Ø©:</strong> ${transaction.service}</p>
                        ${transaction.destination ? `<p><strong>Ø§Ù„ÙˆØ¬Ù‡Ø©:</strong> ${transaction.destination}</p>` : ''}
                        ${transaction.date ? `<p><strong>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø³ÙØ±:</strong> ${new Date(transaction.date).toLocaleDateString('ar-SA')}</p>` : ''}
                        <p><strong>Ø¹Ø¯Ø¯ Ø§Ù„Ø¨Ø§Ù„ØºÙŠÙ†:</strong> ${transaction.adults || 1}</p>
                        <p><strong>Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø·ÙØ§Ù„:</strong> ${transaction.children || 0}</p>
                    </div>
                </div>
                <div class="mt-6 p-4 bg-gray-50 rounded-lg">
                    <div class="flex items-center justify-between">
                        <div>
                            <h5 class="font-semibold text-gray-900">Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©</h5>
                            <span class="${statusClass}">${statusText}</span>
                        </div>
                        <div class="text-right">
                            <p class="text-sm text-gray-600">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡</p>
                            <p class="font-medium">${new Date(transaction.createdAt).toLocaleDateString('ar-SA')}</p>
                        </div>
                    </div>
                </div>
                ${transaction.message ? `
                    <div class="mt-4 p-4 bg-blue-50 rounded-lg">
                        <h5 class="font-semibold text-gray-900 mb-2">Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©</h5>
                        <p class="text-gray-700">${transaction.message}</p>
                    </div>
                ` : ''}
                ${transaction.rating > 0 ? `
                    <div class="mt-4 p-4 bg-yellow-50 rounded-lg">
                        <h5 class="font-semibold text-gray-900 mb-2">Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</h5>
                        <div class="flex">
                            ${'â­'.repeat(transaction.rating)}
                            <span class="mr-2 text-gray-600">(${transaction.rating}/5)</span>
                        </div>
                    </div>
                ` : ''}
            `;
        }

        function getStatusClass(status) {
            const statusClasses = {
                'pending': 'status-pending',
                'processing': 'status-processing',
                'completed': 'status-completed',
                'cancelled': 'status-cancelled'
            };
            return statusClasses[status] || 'status-pending';
        }

        function getStatusText(status) {
            const statusTexts = {
                'pending': 'Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±',
                'processing': 'Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©',
                'completed': 'Ù…ÙƒØªÙ…Ù„Ø©',
                'cancelled': 'Ù…Ù„ØºÙŠØ©'
            };
            return statusTexts[status] || 'Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±';
        }

        // Gallery functions
        function filterGallery(category) {
            const buttons = document.querySelectorAll('.gallery-filter-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            const activeButton = document.querySelector(`[onclick="filterGallery('${category}')"]`);
            if (activeButton) {
                activeButton.classList.add('active');
            }
            
            updateGallery(category);
        }

        function updateGallery(filterCategory = 'all') {
            const galleryContainer = document.getElementById('galleryContainer');
            const adminGalleryContainer = document.getElementById('adminGalleryContainer');
            
            const images = currentData.filter(item => item.type === 'image');
            const filteredImages = filterCategory === 'all' ? images : images.filter(img => img.category === filterCategory);
            
            const galleryHTML = filteredImages.length > 0 ? 
                filteredImages.map(image => `
                    <div class="gallery-item" data-category="${image.category}">
                        <img src="${image.url}" alt="${image.title}" class="w-full h-64 object-cover" onerror="this.src=''; this.alt='ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©'; this.style.display='none';">
                        <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4">
                            <h4 class="text-white font-semibold">${image.title}</h4>
                        </div>
                    </div>
                `).join('') :
                `<div class="text-center col-span-full py-12">
                    <div class="text-6xl mb-4">ğŸ“¸</div>
                    <p class="text-gray-600">Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙˆØ± ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„ØªØµÙ†ÙŠÙ</p>
                </div>`;
            
            if (galleryContainer) {
                galleryContainer.innerHTML = galleryHTML;
            }
            
            // Admin gallery with delete buttons
            if (adminGalleryContainer) {
                const adminGalleryHTML = images.length > 0 ?
                    images.map(image => `
                        <div class="gallery-item relative" data-category="${image.category}">
                            <img src="${image.url}" alt="${image.title}" class="w-full h-64 object-cover" onerror="this.src=''; this.alt='ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©'; this.style.display='none';">
                            <div class="absolute top-2 right-2">
                                <button onclick="deleteImage('${image.__backendId}')" class="action-button delete">
                                    ğŸ—‘ï¸
                                </button>
                            </div>
                            <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4">
                                <h4 class="text-white font-semibold">${image.title}</h4>
                                <p class="text-white text-sm opacity-75">${getCategoryText(image.category)}</p>
                            </div>
                        </div>
                    `).join('') :
                    `<div class="text-center col-span-full py-12">
                        <div class="text-6xl mb-4">ğŸ“¸</div>
                        <p class="text-gray-600">Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙˆØ± ÙÙŠ Ø§Ù„Ù…Ø¹Ø±Ø¶ Ø­Ø§Ù„ÙŠØ§Ù‹</p>
                    </div>`;
                
                adminGalleryContainer.innerHTML = adminGalleryHTML;
            }
        }

        function getCategoryText(category) {
            const categoryTexts = {
                'umrah': 'Ø¹Ù…Ø±Ø©',
                'hajj': 'Ø­Ø¬',
                'tourism': 'Ø³ÙŠØ§Ø­Ø©',
                'hotel': 'ÙÙ†Ø§Ø¯Ù‚'
            };
            return categoryTexts[category] || category;
        }

        // Admin login
        document.getElementById('loginForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const loginBtn = document.getElementById('loginBtn');
            const loginText = document.getElementById('loginText');
            const loginSpinner = document.getElementById('loginSpinner');
            
            loginSpinner.classList.remove('hidden');
            loginText.textContent = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚...';
            loginBtn.disabled = true;
            
            try {
                const formData = new FormData(this);
                const username = formData.get('username');
                const password = formData.get('password');
                
                const user = currentData.find(item => 
                    item.type === 'user' && 
                    item.username === username && 
                    item.password === password &&
                    item.active
                );
                
                if (user) {
                    isLoggedIn = true;
                    currentUser = user;
                    
                    // Update last login
                    const updatedUser = { ...user, last_login: new Date().toISOString() };
                    if (window.dataSdk) {
                        await window.dataSdk.update(updatedUser);
                    }
                    
                    document.getElementById('adminLogin').classList.add('hidden');
                    document.getElementById('adminDashboard').classList.remove('hidden');
                    showToast('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                } else {
                    showToast('Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©', 'error');
                }
            } catch (error) {
                showToast('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„', 'error');
            } finally {
                loginSpinner.classList.add('hidden');
                loginText.textContent = 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„';
                loginBtn.disabled = false;
            }
        });

        function logout() {
            isLoggedIn = false;
            currentUser = null;
            document.getElementById('adminLogin').classList.remove('hidden');
            document.getElementById('adminDashboard').classList.add('hidden');
            document.getElementById('loginForm').reset();
            showToast('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­', 'info');
        }

        // Update all tables and displays
        function updateAllTables() {
            updateTransactionsTable();
            updateServicesManagement();
            updatePackagesManagement();
        }

        function updateTransactionsTable() {
            const tableBody = document.getElementById('adminTransactionsTable');
            if (!tableBody) return;
            
            const transactions = currentData.filter(item => item.type === 'transaction');
            
            if (transactions.length === 0) {
                tableBody.innerHTML = `
                    <tr>
                        <td colspan="8" class="text-center text-gray-500 py-8">
                            Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹
                        </td>
                    </tr>
                `;
                return;
            }
            
            tableBody.innerHTML = transactions.map(transaction => `
                <tr>
                    <td>${transaction.name}</td>
                    <td>${transaction.passport_number}</td>
                    <td>${transaction.service}</td>
                    <td>${transaction.phone}</td>
                    <td>${transaction.rating > 0 ? 'â­'.repeat(transaction.rating) : 'Ù„Ø§ ÙŠÙˆØ¬Ø¯'}</td>
                    <td><span class="${getStatusClass(transaction.status)}">${getStatusText(transaction.status)}</span></td>
                    <td>${new Date(transaction.createdAt).toLocaleDateString('ar-SA')}</td>
                    <td>
                        <button onclick="openStatusModal('${transaction.__backendId}')" class="action-button edit">ØªØ­Ø¯ÙŠØ«</button>
                        <button onclick="deleteTransaction('${transaction.__backendId}')" class="action-button delete">Ø­Ø°Ù</button>
                        <button onclick="viewTransaction('${transaction.__backendId}')" class="action-button view">Ø¹Ø±Ø¶</button>
                    </td>
                </tr>
            `).join('');
        }

        function updateServicesManagement() {
            const container = document.getElementById('servicesManagementGrid');
            if (!container) return;
            
            const services = currentData.filter(item => item.type === 'service');
            
            if (services.length === 0) {
                container.innerHTML = `
                    <div class="col-span-full text-center py-12">
                        <div class="text-6xl mb-4">ğŸ¯</div>
                        <p class="text-gray-600">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø®Ø¯Ù…Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = services.map(service => `
                <div class="service-card">
                    <div class="text-center mb-4">
                        <div class="text-4xl mb-2">${service.service_icon}</div>
                        <h4 class="text-xl font-bold text-gray-900">${service.service_name}</h4>
                    </div>
                    <p class="text-gray-600 mb-4">${service.service_description}</p>
                    <div class="flex gap-2">
                        <button onclick="editService('${service.__backendId}')" class="action-button edit flex-1">ØªØ¹Ø¯ÙŠÙ„</button>
                        <button onclick="deleteService('${service.__backendId}')" class="action-button delete flex-1">Ø­Ø°Ù</button>
                    </div>
                </div>
            `).join('');
        }

        function updatePackagesManagement() {
            const container = document.getElementById('packagesManagementGrid');
            if (!container) return;
            
            const packages = currentData.filter(item => item.type === 'package');
            
            if (packages.length === 0) {
                container.innerHTML = `
                    <div class="col-span-full text-center py-12">
                        <div class="text-6xl mb-4">ğŸ“¦</div>
                        <p class="text-gray-600">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨Ø§Ù‚Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = packages.map(pkg => `
                <div class="package-card">
                    <div class="text-center mb-4">
                        <div class="text-4xl mb-2">${pkg.package_image}</div>
                        <h4 class="text-xl font-bold text-gray-900">${pkg.package_name}</h4>
                        <p class="text-gray-600">${pkg.package_description}</p>
                    </div>
                    <div class="mb-4">
                        <div class="text-2xl font-bold text-green-600 text-center">${pkg.package_price} Ø±ÙŠØ§Ù„</div>
                        <div class="text-sm text-gray-600 text-center">${pkg.package_duration}</div>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="editPackage('${pkg.__backendId}')" class="action-button edit flex-1">ØªØ¹Ø¯ÙŠÙ„</button>
                        <button onclick="deletePackage('${pkg.__backendId}')" class="action-button delete flex-1">Ø­Ø°Ù</button>
                    </div>
                </div>
            `).join('');
        }

        function updateServicesAndPackages() {
            // Update public services display
            const servicesGrid = document.getElementById('servicesGrid');
            if (servicesGrid) {
                const services = currentData.filter(item => item.type === 'service' && item.service_active);
                
                if (services.length === 0) {
                    servicesGrid.innerHTML = `
                        <div class="col-span-full text-center py-12">
                            <div class="text-6xl mb-4">ğŸ¯</div>
                            <p class="text-gray-600">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø®Ø¯Ù…Ø§Øª Ù…ØªØ§Ø­Ø© Ø­Ø§Ù„ÙŠØ§Ù‹</p>
                        </div>
                    `;
                } else {
                    servicesGrid.innerHTML = services.map(service => `
                        <div class="service-card text-center">
                            <div class="text-5xl mb-4">${service.service_icon}</div>
                            <h4 class="text-xl font-bold text-gray-900 mb-3">${service.service_name}</h4>
                            <p class="text-gray-600">${service.service_description}</p>
                        </div>
                    `).join('');
                }
            }
            
            // Update public packages display
            const packagesGrid = document.getElementById('packagesGrid');
            if (packagesGrid) {
                const packages = currentData.filter(item => item.type === 'package' && item.package_active);
                
                if (packages.length === 0) {
                    packagesGrid.innerHTML = `
                        <div class="col-span-full text-center py-12">
                            <div class="text-6xl mb-4">ğŸ“¦</div>
                            <p class="text-gray-600">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨Ø§Ù‚Ø§Øª Ù…ØªØ§Ø­Ø© Ø­Ø§Ù„ÙŠØ§Ù‹</p>
                        </div>
                    `;
                } else {
                    packagesGrid.innerHTML = packages.map(pkg => `
                        <div class="package-card">
                            <div class="text-center mb-6">
                                <div class="text-6xl mb-4">${pkg.package_image}</div>
                                <h4 class="text-2xl font-bold text-gray-900 mb-2">${pkg.package_name}</h4>
                                <p class="text-gray-600 mb-4">${pkg.package_description}</p>
                                <div class="text-3xl font-bold text-green-600">${pkg.package_price} Ø±ÙŠØ§Ù„</div>
                                <div class="text-sm text-gray-600">${pkg.package_duration}</div>
                            </div>
                            
                            <div class="mb-6">
                                <h5 class="font-semibold text-gray-900 mb-3">ÙŠØ´Ù…Ù„:</h5>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    ${pkg.package_features.split(',').map(feature => `<li>â€¢ ${feature.trim()}</li>`).join('')}
                                </ul>
                            </div>
                            
                            <button onclick="showTab('booking')" class="btn-primary w-full py-3">
                                Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†
                            </button>
                        </div>
                    `).join('');
                }
            }
        }

        function updateDashboardStats() {
            const transactions = currentData.filter(item => item.type === 'transaction');
            const images = currentData.filter(item => item.type === 'image');
            
            const totalTransactions = transactions.length;
            const pendingTransactions = transactions.filter(t => t.status === 'pending').length;
            const completedTransactions = transactions.filter(t => t.status === 'completed').length;
            const totalImages = images.length;
            
            // Update dashboard KPIs
            const dashboardTotal = document.getElementById('dashboardTotalTransactions');
            const dashboardPending = document.getElementById('dashboardPendingTransactions');
            const dashboardCompleted = document.getElementById('dashboardCompletedTransactions');
            const dashboardImages = document.getElementById('dashboardTotalImages');
            
            if (dashboardTotal) dashboardTotal.textContent = totalTransactions;
            if (dashboardPending) dashboardPending.textContent = pendingTransactions;
            if (dashboardCompleted) dashboardCompleted.textContent = completedTransactions;
            if (dashboardImages) dashboardImages.textContent = totalImages;
        }

        function updateNotificationBadge() {
            const pendingTransactions = currentData.filter(item => 
                item.type === 'transaction' && item.status === 'pending'
            ).length;
            
            const badge = document.getElementById('notificationBadge');
            if (badge) {
                if (pendingTransactions > 0) {
                    badge.textContent = pendingTransactions;
                    badge.classList.remove('hidden');
                } else {
                    badge.classList.add('hidden');
                }
            }
        }

        function updateCharts() {
            updateMonthlyTransactionsChart();
            updateServicesDistributionChart();
        }

        function updateMonthlyTransactionsChart() {
            const ctx = document.getElementById('monthlyTransactionsChart');
            if (!ctx) return;
            
            if (charts.monthlyTransactions) {
                charts.monthlyTransactions.destroy();
            }
            
            const transactions = currentData.filter(item => item.type === 'transaction');
            const monthlyData = {};
            
            transactions.forEach(transaction => {
                const month = new Date(transaction.createdAt).toLocaleDateString('ar-SA', { year: 'numeric', month: 'long' });
                monthlyData[month] = (monthlyData[month] || 0) + 1;
            });
            
            const labels = Object.keys(monthlyData);
            const data = Object.values(monthlyData);
            
            charts.monthlyTransactions = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ©',
                        data: data,
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        function updateServicesDistributionChart() {
            const ctx = document.getElementById('servicesDistributionChart');
            if (!ctx) return;
            
            if (charts.servicesDistribution) {
                charts.servicesDistribution.destroy();
            }
            
            const transactions = currentData.filter(item => item.type === 'transaction');
            const serviceData = {};
            
            transactions.forEach(transaction => {
                const service = transaction.service || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
                serviceData[service] = (serviceData[service] || 0) + 1;
            });
            
            const labels = Object.keys(serviceData);
            const data = Object.values(serviceData);
            const colors = ['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6'];
            
            charts.servicesDistribution = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: labels,
                    datasets: [{
                        data: data,
                        backgroundColor: colors.slice(0, labels.length)
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
        }

        // Modal functions
        function openAddImageModal() {
            document.getElementById('addImageModal').classList.remove('hidden');
        }

        function closeAddImageModal() {
            document.getElementById('addImageModal').classList.add('hidden');
            document.getElementById('addImageForm').reset();
        }

        function openStatusModal(transactionId) {
            const transaction = currentData.find(item => item.__backendId === transactionId);
            if (transaction) {
                document.getElementById('updateTransactionId').value = transactionId;
                document.getElementById('newStatus').value = transaction.status;
                document.getElementById('statusModal').classList.remove('hidden');
            }
        }

        function closeStatusModal() {
            document.getElementById('statusModal').classList.add('hidden');
            document.getElementById('statusUpdateForm').reset();
        }

        // Add image form handling
        document.getElementById('addImageForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            if (recordCount >= 999) {
                showToast('ØªÙ… Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù…Ù† Ø§Ù„Ø³Ø¬Ù„Ø§Øª (999). ÙŠØ±Ø¬Ù‰ Ø­Ø°Ù Ø¨Ø¹Ø¶ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø£ÙˆÙ„Ø§Ù‹.', 'warning');
                return;
            }
            
            const addImageBtn = document.getElementById('addImageBtn');
            const addImageText = document.getElementById('addImageText');
            const addImageSpinner = document.getElementById('addImageSpinner');
            
            addImageSpinner.classList.remove('hidden');
            addImageText.textContent = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø¶Ø§ÙØ©...';
            addImageBtn.disabled = true;
            
            try {
                const formData = new FormData(this);
                const imageData = {
                    id: 'image-' + Date.now(),
                    type: 'image',
                    title: formData.get('title'),
                    url: formData.get('url'),
                    category: formData.get('type'),
                    createdAt: new Date().toISOString()
                };
                
                if (window.dataSdk) {
                    const result = await window.dataSdk.create(imageData);
                    if (result.isOk) {
                        showToast('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                        closeAddImageModal();
                    } else {
                        showToast('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙˆØ±Ø©.', 'error');
                    }
                }
            } catch (error) {
                showToast('Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹.', 'error');
            } finally {
                addImageSpinner.classList.add('hidden');
                addImageText.textContent = 'Ø¥Ø¶Ø§ÙØ©';
                addImageBtn.disabled = false;
            }
        });

        // Status update form handling
        document.getElementById('statusUpdateForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const updateStatusBtn = document.getElementById('updateStatusBtn');
            const updateStatusText = document.getElementById('updateStatusText');
            const updateStatusSpinner = document.getElementById('updateStatusSpinner');
            
            updateStatusSpinner.classList.remove('hidden');
            updateStatusText.textContent = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ«...';
            updateStatusBtn.disabled = true;
            
            try {
                const transactionId = document.getElementById('updateTransactionId').value;
                const newStatus = document.getElementById('newStatus').value;
                
                const transaction = currentData.find(item => item.__backendId === transactionId);
                if (transaction && window.dataSdk) {
                    const updatedTransaction = {
                        ...transaction,
                        status: newStatus,
                        updatedAt: new Date().toISOString()
                    };
                    
                    const result = await window.dataSdk.update(updatedTransaction);
                    if (result.isOk) {
                        showToast('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                        closeStatusModal();
                    } else {
                        showToast('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø©.', 'error');
                    }
                }
            } catch (error) {
                showToast('Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹.', 'error');
            } finally {
                updateStatusSpinner.classList.add('hidden');
                updateStatusText.textContent = 'ØªØ­Ø¯ÙŠØ«';
                updateStatusBtn.disabled = false;
            }
        });

        // Delete functions
        async function deleteTransaction(transactionId) {
            const transaction = currentData.find(item => item.__backendId === transactionId);
            if (transaction && window.dataSdk) {
                const result = await window.dataSdk.delete(transaction);
                if (result.isOk) {
                    showToast('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                } else {
                    showToast('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­Ø°Ù Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©.', 'error');
                }
            }
        }

        async function deleteImage(imageId) {
            const image = currentData.find(item => item.__backendId === imageId);
            if (image && window.dataSdk) {
                const result = await window.dataSdk.delete(image);
                if (result.isOk) {
                    showToast('ØªÙ… Ø­Ø°Ù Ø§Ù„ØµÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                } else {
                    showToast('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­Ø°Ù Ø§Ù„ØµÙˆØ±Ø©.', 'error');
                }
            }
        }

        async function deleteService(serviceId) {
            const service = currentData.find(item => item.__backendId === serviceId);
            if (service && window.dataSdk) {
                const result = await window.dataSdk.delete(service);
                if (result.isOk) {
                    showToast('ØªÙ… Ø­Ø°Ù Ø§Ù„Ø®Ø¯Ù…Ø© Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                } else {
                    showToast('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­Ø°Ù Ø§Ù„Ø®Ø¯Ù…Ø©.', 'error');
                }
            }
        }

        async function deletePackage(packageId) {
            const pkg = currentData.find(item => item.__backendId === packageId);
            if (pkg && window.dataSdk) {
                const result = await window.dataSdk.delete(pkg);
                if (result.isOk) {
                    showToast('ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¨Ø§Ù‚Ø© Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                } else {
                    showToast('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­Ø°Ù Ø§Ù„Ø¨Ø§Ù‚Ø©.', 'error');
                }
            }
        }

        // Placeholder functions for future implementation
        function openAddServiceModal() {
            showToast('Ù…ÙŠØ²Ø© Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø³ØªÙƒÙˆÙ† Ù…ØªØ§Ø­Ø© Ù‚Ø±ÙŠØ¨Ø§Ù‹', 'info');
        }

        function openAddPackageModal() {
            showToast('Ù…ÙŠØ²Ø© Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¨Ø§Ù‚Ø§Øª Ø³ØªÙƒÙˆÙ† Ù…ØªØ§Ø­Ø© Ù‚Ø±ÙŠØ¨Ø§Ù‹', 'info');
        }

        function editService(serviceId) {
            showToast('Ù…ÙŠØ²Ø© ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø³ØªÙƒÙˆÙ† Ù…ØªØ§Ø­Ø© Ù‚Ø±ÙŠØ¨Ø§Ù‹', 'info');
        }

        function editPackage(packageId) {
            showToast('Ù…ÙŠØ²Ø© ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨Ø§Ù‚Ø§Øª Ø³ØªÙƒÙˆÙ† Ù…ØªØ§Ø­Ø© Ù‚Ø±ÙŠØ¨Ø§Ù‹', 'info');
        }

        function viewTransaction(transactionId) {
            const transaction = currentData.find(item => item.__backendId === transactionId);
            if (transaction) {
                showToast(`Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ù…Ø¹Ø§Ù…Ù„Ø©: ${transaction.name}`, 'info');
            }
        }

        // Settings management
        function updateSiteContent() {
            const settings = currentData.find(item => item.type === 'settings') || defaultConfig;
            
            // Update navigation
            const navCompanyName = document.getElementById('nav-company-name');
            const navCompanyTagline = document.getElementById('nav-company-tagline');
            if (navCompanyName) navCompanyName.textContent = settings.company_name || defaultConfig.company_name;
            if (navCompanyTagline) navCompanyTagline.textContent = settings.company_tagline || defaultConfig.company_tagline;
            
            // Update hero section
            const heroTitle = document.getElementById('hero-title');
            const heroSubtitle = document.getElementById('hero-subtitle');
            if (heroTitle) heroTitle.textContent = settings.hero_title || defaultConfig.hero_title;
            if (heroSubtitle) heroSubtitle.textContent = settings.hero_subtitle || defaultConfig.hero_subtitle;
            
            // Update contact info
            const contactPhone = document.getElementById('contact-phone');
            const contactEmail = document.getElementById('contact-email');
            if (contactPhone) contactPhone.textContent = settings.phone_number || defaultConfig.phone_number;
            if (contactEmail) contactEmail.textContent = settings.email_address || defaultConfig.email_address;
            
            // Update footer
            const footerCompanyName = document.getElementById('footer-company-name');
            const footerCompanyTagline = document.getElementById('footer-company-tagline');
            const footerPhone = document.getElementById('footer-phone');
            const footerEmail = document.getElementById('footer-email');
            
            if (footerCompanyName) footerCompanyName.textContent = settings.company_name || defaultConfig.company_name;
            if (footerCompanyTagline) footerCompanyTagline.textContent = settings.company_tagline || defaultConfig.company_tagline;
            if (footerPhone) footerPhone.textContent = `ğŸ“ ${settings.phone_number || defaultConfig.phone_number}`;
            if (footerEmail) footerEmail.textContent = `âœ‰ï¸ ${settings.email_address || defaultConfig.email_address}`;
        }

        function loadSettingsForm() {
            const settings = currentData.find(item => item.type === 'settings') || defaultConfig;
            
            const companyNameInput = document.getElementById('settings_company_name');
            const companyTaglineInput = document.getElementById('settings_company_tagline');
            const phoneInput = document.getElementById('settings_phone');
            const emailInput = document.getElementById('settings_email');
            const heroTitleInput = document.getElementById('settings_hero_title');
            const heroSubtitleInput = document.getElementById('settings_hero_subtitle');
            
            if (companyNameInput) companyNameInput.value = settings.company_name || defaultConfig.company_name;
            if (companyTaglineInput) companyTaglineInput.value = settings.company_tagline || defaultConfig.company_tagline;
            if (phoneInput) phoneInput.value = settings.phone_number || defaultConfig.phone_number;
            if (emailInput) emailInput.value = settings.email_address || defaultConfig.email_address;
            if (heroTitleInput) heroTitleInput.value = settings.hero_title || defaultConfig.hero_title;
            if (heroSubtitleInput) heroSubtitleInput.value = settings.hero_subtitle || defaultConfig.hero_subtitle;
        }

        // Settings form handling
        document.getElementById('settingsForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const saveSettingsBtn = document.getElementById('saveSettingsBtn');
            const saveSettingsText = document.getElementById('saveSettingsText');
            const saveSettingsSpinner = document.getElementById('saveSettingsSpinner');
            
            saveSettingsSpinner.classList.remove('hidden');
            saveSettingsText.textContent = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...';
            saveSettingsBtn.disabled = true;
            
            try {
                const formData = new FormData(this);
                const existingSettings = currentData.find(item => item.type === 'settings');
                
                const settingsData = {
                    id: existingSettings?.id || 'settings-' + Date.now(),
                    type: 'settings',
                    company_name: formData.get('company_name'),
                    company_tagline: formData.get('company_tagline'),
                    phone_number: formData.get('phone_number'),
                    email_address: formData.get('email_address'),
                    hero_title: formData.get('hero_title'),
                    hero_subtitle: formData.get('hero_subtitle'),
                    updatedAt: new Date().toISOString()
                };
                
                if (existingSettings) {
                    settingsData.createdAt = existingSettings.createdAt;
                } else {
                    settingsData.createdAt = new Date().toISOString();
                }
                
                if (window.dataSdk) {
                    let result;
                    if (existingSettings) {
                        result = await window.dataSdk.update({ ...existingSettings, ...settingsData });
                    } else {
                        if (recordCount >= 999) {
                            showToast('ØªÙ… Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù…Ù† Ø§Ù„Ø³Ø¬Ù„Ø§Øª (999).', 'warning');
                            return;
                        }
                        result = await window.dataSdk.create(settingsData);
                    }
                    
                    if (result.isOk) {
                        showToast('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                    } else {
                        showToast('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª.', 'error');
                    }
                }
            } catch (error) {
                showToast('Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹.', 'error');
            } finally {
                saveSettingsSpinner.classList.add('hidden');
                saveSettingsText.textContent = 'Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª';
                saveSettingsBtn.disabled = false;
            }
        });

        // Element SDK Configuration
        async function onConfigChange(config) {
            // Update CSS variables
            document.documentElement.style.setProperty('--bg-color', config.background_color || defaultConfig.background_color);
            document.documentElement.style.setProperty('--surface-color', config.surface_color || defaultConfig.surface_color);
            document.documentElement.style.setProperty('--text-color', config.text_color || defaultConfig.text_color);
            document.documentElement.style.setProperty('--primary-color', config.primary_action_color || defaultConfig.primary_action_color);
            document.documentElement.style.setProperty('--secondary-color', config.secondary_action_color || defaultConfig.secondary_action_color);
            
            // Update font
            const customFont = config.font_family || defaultConfig.font_family;
            const baseFontStack = 'Arial, sans-serif';
            document.body.style.fontFamily = `${customFont}, ${baseFontStack}`;
            
            // Update font sizes
            const baseSize = config.font_size || defaultConfig.font_size;
            document.documentElement.style.fontSize = `${baseSize}px`;
            
            // Update text content
            updateTextContent(config);
        }

        function updateTextContent(config) {
            // Update navigation
            const navCompanyName = document.getElementById('nav-company-name');
            const navCompanyTagline = document.getElementById('nav-company-tagline');
            if (navCompanyName) navCompanyName.textContent = config.company_name || defaultConfig.company_name;
            if (navCompanyTagline) navCompanyTagline.textContent = config.company_tagline || defaultConfig.company_tagline;
            
            // Update hero section
            const heroTitle = document.getElementById('hero-title');
            const heroSubtitle = document.getElementById('hero-subtitle');
            if (heroTitle) heroTitle.textContent = config.hero_title || defaultConfig.hero_title;
            if (heroSubtitle) heroSubtitle.textContent = config.hero_subtitle || defaultConfig.hero_subtitle;
            
            // Update contact info
            const contactPhone = document.getElementById('contact-phone');
            const contactEmail = document.getElementById('contact-email');
            if (contactPhone) contactPhone.textContent = config.phone_number || defaultConfig.phone_number;
            if (contactEmail) contactEmail.textContent = config.email_address || defaultConfig.email_address;
            
            // Update footer
            const footerCompanyName = document.getElementById('footer-company-name');
            const footerCompanyTagline = document.getElementById('footer-company-tagline');
            const footerPhone = document.getElementById('footer-phone');
            const footerEmail = document.getElementById('footer-email');
            
            if (footerCompanyName) footerCompanyName.textContent = config.company_name || defaultConfig.company_name;
            if (footerCompanyTagline) footerCompanyTagline.textContent = config.company_tagline || defaultConfig.company_tagline;
            if (footerPhone) footerPhone.textContent = `ğŸ“ ${config.phone_number || defaultConfig.phone_number}`;
            if (footerEmail) footerEmail.textContent = `âœ‰ï¸ ${config.email_address || defaultConfig.email_address}`;
        }

        function mapToCapabilities(config) {
            return {
                recolorables: [
                    {
                        get: () => config.background_color || defaultConfig.background_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ background_color: value });
                            }
                        }
                    },
                    {
                        get: () => config.surface_color || defaultConfig.surface_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ surface_color: value });
                            }
                        }
                    },
                    {
                        get: () => config.text_color || defaultConfig.text_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ text_color: value });
                            }
                        }
                    },
                    {
                        get: () => config.primary_action_color || defaultConfig.primary_action_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ primary_action_color: value });
                            }
                        }
                    },
                    {
                        get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ secondary_action_color: value });
                            }
                        }
                    }
                ],
                borderables: [],
                fontEditable: {
                    get: () => config.font_family || defaultConfig.font_family,
                    set: (value) => {
                        if (window.elementSdk) {
                            window.elementSdk.setConfig({ font_family: value });
                        }
                    }
                },
                fontSizeable: {
                    get: () => config.font_size || defaultConfig.font_size,
                    set: (value) => {
                        if (window.elementSdk) {
                            window.elementSdk.setConfig({ font_size: value });
                        }
                    }
                }
            };
        }

        function mapToEditPanelValues(config) {
            return new Map([
                ["company_name", config.company_name || defaultConfig.company_name],
                ["company_tagline", config.company_tagline || defaultConfig.company_tagline],
                ["hero_title", config.hero_title || defaultConfig.hero_title],
                ["hero_subtitle", config.hero_subtitle || defaultConfig.hero_subtitle],
                ["phone_number", config.phone_number || defaultConfig.phone_number],
                ["email_address", config.email_address || defaultConfig.email_address]
            ]);
        }

        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', async function() {
            // Initialize rating system
            setupRating();
            
            // Initialize Data SDK
            await initializeDataSdk();
            
            // Initialize Element SDK
            if (window.elementSdk) {
                window.elementSdk.init({
                    defaultConfig,
                    onConfigChange,
                    mapToCapabilities,
                    mapToEditPanelValues
                });
            }
            
            // Set initial content
            updateSiteContent();
        });
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'999423556684e18d',t:'MTc2MjI1OTU4Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
